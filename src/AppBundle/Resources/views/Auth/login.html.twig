{% extends "::auth.html.twig" %} 

{% block title %}Login{% endblock %} 

{% block body %}

<div id="login_dv" class="col-md-4 col-md-offset-4" style="margin-top: 100px;">

	<div class="login-panel panel panel-primary">
		<div class="panel-heading">
			<h2 class="panel-title">VALIDCODE - Acesso restrito</h2>
		</div>
		<div class="panel-body">
			<form role="form" action="{{ path('login') }}" method="post" name="formulario" id="formulario">
			<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}" />
			
				<div class="form-group">
					<input class="form-control" placeholder="E-mail" name="_username" id="_username"
						type="email" value="{{ last_username }}"  autofocus>
				</div>
				<div class="form-group">
					<input class="form-control" placeholder="Digite sua senha" id="_password" name="_password"
						type="password" />
				</div>
				
			</form>
		</div>
		<div class="panel-footer">
			<div class="form-group text-right">
				<button class="btn btn-lg btn-primary" type="button" id="btnLogin" name="btnLogin">
					<i class="fa fa-sign-in"></i> Entrar
				</button>
				
				<button class="btn btn-lg btn-default" type="reset" id="btnLimpar" name="btnLogin">
					<i class="fa fa-eraser"></i> Limpar
				</button>
			</div>
		</div>
	</div>
	
	{% if error %}
    <div class="col-lg-12">
    	<div class="alert alert-dismissible alert-danger">
    		<button type="button" class="close" data-dismiss="alert">&times;</button>
    		{{ error.messageKey|trans(error.messageData, 'security') }}
    	</div>
    </div>
	{% endif %}
	
	
</div>

{% endblock %}

{% block javascripts %}
<script>
$(document).ready(function(){
	$("#btnLogin").on('click', function(){
		$("#formulario").submit();
		$(this).attr('disabled', 'disabled').addCss('disabled');	
	});
});
</script>
{% endblock %}
